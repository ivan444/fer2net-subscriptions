# -*- coding: utf-8 -*-
from datetime import datetime, timedelta
from django.core.management  import setup_environ
import settings
setup_environ(settings)
from subscriptions.models import Subscription, fetchUser, usergroupid


paymaster = fetchUser(settings.cfgEBPaymasterId)

def makePayment(uid, amount, pay_date):
  # NAPOMENA: ne vodi se briga o posebnim grupama!
  intAmount = int(amount)
  user = fetchUser(uid)
  oldGid = usergroupid(user)

  sub = Subscription(user=user, amount=intAmount)
  sub.oldGroupId = oldGid
  sub.delayed = intAmount == 0
  sub.paymaster = paymaster
  sub.paymentType = 'P'
  sub.date = pay_date
  sub.subsEnd = sub.date + timedelta(days=365)
  sub.save()

ids = [3644, 3876, 6925, 7653, 1919, 7054, 3110, 3789, 3844, 7490, 7606, 1869, 2611, 70, 120, 313, 468, 1306, 1763, 1854, 2000, 2126, 2303, 2368, 2474, 3332, 3467, 3544, 3618, 3650, 3854, 3909, 3945, 4008, 4022, 4026, 4035, 4094, 4113, 4114, 4408, 4414, 4641, 4645, 4679, 4698, 4725, 4746, 4747, 4798, 4810, 4814, 4898, 4903, 4922, 4928, 4975, 5085, 5107, 5151, 5152, 5237, 5250, 5314, 5317, 5318, 5338, 6729, 6732, 6748, 6760, 6782, 6784, 6795, 6835, 6843, 6850, 6854, 6872, 6891, 6902, 6903, 6916, 6918, 6930, 6965, 6966, 6970, 6973, 6990, 6994, 7002, 7006, 7074, 7078, 7081, 7116, 7152, 7153, 7160, 7203, 7280, 7296, 7418, 7429, 7505, 7509, 7529, 7538, 7554, 7590, 7597, 7609, 7611, 7634, 7642, 7644, 7652, 7683, 7684, 7712, 7715, 7725, 7738, 7744, 7751, 7753, 7768, 7788, 7793, 7820, 7821, 7854, 7856, 7873, 7878, 7880, 7893, 7924, 7927, 7928, 7956, 7966, 7998, 8008, 8013, 8048, 8067, 8084, 8126, 8131, 8151, 8169, 8228, 8454, 8460, 8481, 8601, 8697, 8717, 8736, 8756, 8765, 8786, 8797, 8799, 8813, 8819, 8820, 8826, 8828, 8830, 8839, 8844, 8851, 8859, 8873, 8874, 8910, 8918, 8927, 8934, 8939, 8943, 8952, 8963, 8966, 8967, 8978, 8986, 9015, 9016, 9018, 9058, 9083, 9100, 9115, 9123, 9127, 9141, 9201, 9210, 9217, 9228, 9235, 9245, 9299, 9354, 9369, 9383, 9490, 9534, 9615, 9639, 103, 549, 665, 789, 1518, 1890, 1939, 1974, 2249, 2292, 2390, 2447, 2452, 2512, 2754, 3180, 3211, 3219, 3362, 3510, 3522, 3551, 3562, 3572, 3588, 3624, 3628, 3642, 3652, 3653, 3665, 3689, 3729, 3746, 3751, 3752, 3786, 3787, 3793, 3847, 3893, 3907, 3976, 3993, 4012, 4024, 4033, 4042, 4045, 4047, 4111, 4122, 4146, 4171, 4175, 4210, 4415, 4585, 4688, 4700, 4710, 4787, 4789, 4799, 4805, 4813, 4834, 4837, 4840, 4864, 4877, 4886, 4895, 4907, 4912, 4917, 4925, 4948, 4949, 4986, 4990, 5003, 5012, 5015, 5022, 5023, 5030, 5037, 5074, 5087, 5117, 5142, 5147, 5157, 5163, 5178, 5200, 5206, 5210, 5212, 5224, 5234, 5247, 5256, 5301, 5349, 6670, 6728, 6738, 6764, 6767, 6772, 6806, 6826, 6858, 6873, 6875, 6924, 6936, 6938, 6950, 6964, 6977, 6978, 6982, 6987, 7000, 7005, 7010, 7026, 7029, 7032, 7052, 7053, 7073, 7087, 7109, 7115, 7119, 7130, 7138, 7154, 7155, 7163, 7165, 7185, 7187, 7188, 7198, 7218, 7266, 7289, 7293, 7306, 7322, 7328, 7334, 7350, 7489, 7494, 7499, 7503, 7504, 7506, 7523, 7536, 7549, 7561, 7562, 7566, 7571, 7601, 7616, 7621, 7631, 7637, 7646, 7649, 7655, 7661, 7665, 7670, 7677, 7679, 7709, 7711, 7716, 7718, 7720, 7721, 7743, 7749, 7750, 7790, 7823, 7825, 7829, 7847, 7851, 7861, 7863, 7868, 7884, 7895, 7898, 7909, 7916, 7917, 7944, 7946, 7971, 7985, 7992, 7996, 8012, 8014, 8015, 8043, 8050, 8061, 8072, 8089, 8123, 8138, 8320, 8450, 8464, 8474, 8527, 8672, 8727, 8728, 8732, 8743, 8772, 8780, 8785, 8808, 8812, 8835, 8840, 8853, 8863, 8889, 8899, 8912, 8942, 8948, 8962, 8973, 8977, 8992, 9048, 9056, 9063, 9105, 9137, 9156, 9205, 9221, 9227, 9230, 9233, 9246, 9248, 9268, 9311, 9328, 9337, 9340, 9353, 9355, 9381, 9386, 9393, 9395, 9469, 9475, 9477, 9478, 9492, 9498, 9521, 9524, 9577, 9594, 9651, 9657, 9660, 464, 612, 718, 1311, 1368, 1782, 1828, 1867, 1911, 1945, 2192, 2294, 2309, 2557, 2664, 2710, 2981, 3260, 3286, 3434, 3453, 3531, 3547, 3576, 3605, 3616, 3681, 3724, 3743, 3756, 3758, 3768, 3815, 3830, 3846, 3869, 3870, 3871, 3999, 4420, 4462, 4583, 4675, 4687, 4690, 4702, 4759, 4780, 4801, 4820, 4821, 4849, 4867, 4879, 4901, 4916, 4952, 4957, 4966, 4981, 4998, 5004, 5009, 5018, 5036, 5047, 5048, 5056, 5155, 5158, 5167, 5172, 5174, 5179, 5185, 5192, 5193, 5198, 5229, 5233, 5264, 5288, 5315, 5366, 5367, 5368, 5438, 6706, 6727, 6752, 6756, 6808, 6860, 6877, 6892, 6893, 6907, 6915, 6933, 6934, 6942, 6956, 6963, 6972, 6995, 6999, 7013, 7028, 7048, 7061, 7070, 7077, 7086, 7098, 7111, 7113, 7137, 7145, 7148, 7180, 7194, 7196, 7199, 7201, 7206, 7207, 7209, 7281, 7299, 7323, 7337, 7346, 7369, 7378, 7409, 7486, 7500, 7525, 7531, 7535, 7542, 7543, 7572, 7577, 7580, 7588, 7595, 7602, 7605, 7622, 7623, 7647, 7654, 7659, 7669, 7675, 7689, 7692, 7693, 7694, 7695, 7698, 7706, 7717, 7736, 7755, 7765, 7804, 7826, 7833, 7850, 7866, 7867, 7875, 7888, 7911, 7913, 7933, 7964, 8000, 8056, 8087, 8116, 8117, 8134, 8162, 8195, 8232, 8445, 8447, 8459, 8478, 8496, 8502, 8539, 8583, 8614, 8685, 8725, 8769, 8776, 8789, 8837, 8843, 8865, 8880, 8890, 8894, 8911, 8981, 8988, 8991, 8994, 8995, 9047, 9050, 9067, 9071, 9079, 9084, 9087, 9098, 9109, 9113, 9142, 9173, 9174, 9220, 9256, 9262, 9273, 9279, 9304, 9350, 9365, 9382, 9388, 9389, 9403, 9417, 9419, 9430, 9463, 9467, 9470, 9479, 9482, 9526, 9614, 9653, 9666, 687, 689, 832, 1246, 1659, 1754, 2394, 2994, 3061, 3296, 3466, 3486, 3504, 3528, 3538, 3573, 3654, 3791, 3799, 3810, 3832, 3856, 3930, 4184, 4196, 4198, 4429, 4473, 4689, 4722, 4749, 4768, 4784, 4817, 4835, 4846, 4848, 4870, 4871, 4932, 4960, 4970, 4971, 4978, 5041, 5065, 5084, 5114, 5115, 5131, 5201, 5258, 5296, 5356, 6739, 6836, 6841, 6861, 6920, 6984, 7017, 7022, 7030, 7044, 7101, 7105, 7118, 7127, 7158, 7172, 7177, 7189, 7197, 7230, 7231, 7236, 7239, 7245, 7275, 7291, 7330, 7382, 7395, 7487, 7511, 7540, 7545, 7560, 7573, 7599, 7607, 7612, 7624, 7628, 7651, 7671, 7673, 7685, 7714, 7724, 7762, 7766, 7806, 7808, 7842, 7859, 7862, 7871, 7874, 7879, 7902, 7903, 7989, 8046, 8069, 8095, 8130, 8148, 8605, 8758, 8760, 8766, 8791, 8923, 8975, 8989, 9014, 9024, 9030, 9035, 9040, 9057, 9068, 9095, 9122, 9134, 9135, 9138, 9168, 9176, 9185, 9232, 9243, 9255, 9261, 9296, 9338, 9345, 9347, 9428, 9459, 9567, 9575, 9676, 9587]

paytime = datetime(year=2012, month=3, day=6, hour=12)
for id in ids:
  makePayment(id, 30, paytime)

